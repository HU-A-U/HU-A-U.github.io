<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>工作文档</title>
      <link href="/2019/04/20/workfile/"/>
      <url>/2019/04/20/workfile/</url>
      
        <content type="html"><![CDATA[<p><strong><em>服务器</em></strong></p><hr><p>ssh <a href="mailto:python@192.168.1.150" target="_blank" rel="noopener">python@192.168.1.150</a> ,     JYcxys@3030</p><p>因为我们总账系统里只有财务报表的数据，所以目前先帮您填写财务报表的数据后申报，财务报表处理完了会弹出一个页面，可以进去申报剩下的内容</p><p><strong><em>mysql地址</em></strong></p><hr><p>192.168.1.170:3306  连接串：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"mysql+pymysql://cic_admin:TaBoq,,1234@192.168.1.170:3306/cicjust_splinter?charset=utf8&amp;autocommit=true"</span></span><br></pre></td></tr></table></figure><p>192.168.10.11:3306 连接串：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"mysql+pymysql://cic_admin:159357a@&#123;&#125;:&#123;&#125;/cic_splinter?charset=utf8&amp;autocommit=true"</span></span><br></pre></td></tr></table></figure><p>Mysql 远程连接</p><p>mysql -u 用户名 -p密码 -h IP地址 -P 端口号 -D 数据库名字 </p><hr><p><strong>celery配置</strong></p><hr><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">RABBITMQ_HOST = <span class="string">'192.168.1.152'</span></span><br><span class="line">RABBITMQ_PORT = <span class="number">5672</span></span><br><span class="line"></span><br><span class="line">RABBITMQ_USER = <span class="string">'rabbitmq'</span></span><br><span class="line">RABBITMQ_PWD = <span class="string">'JYcxys@3030'</span></span><br><span class="line"></span><br><span class="line">REDIS_HOST = <span class="string">"192.168.1.152"</span></span><br><span class="line">REDIS_PORT = <span class="number">16379</span></span><br><span class="line"></span><br><span class="line">CELERY_BROKER_URL = <span class="string">'amqp://&#123;0&#125;:&#123;1&#125;@&#123;2&#125;:&#123;3&#125;/myvhost'</span>\</span><br><span class="line">    .format(RABBITMQ_USER,RABBITMQ_PWD,RABBITMQ_HOST,RABBITMQ_PORT)</span><br><span class="line"></span><br><span class="line">CELERY_RESULT_BACKEND = <span class="string">'redis://&#123;0&#125;:&#123;1&#125;/15'</span>.format(REDIS_HOST,REDIS_PORT)</span><br></pre></td></tr></table></figure><p><strong><em>celery命令</em></strong></p><p>1.守护进程启动方式(start/stop/restart)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">celery multi start export_for_in -A celery_tasks.celery_app -l info --logfile=./celerylog.log</span><br></pre></td></tr></table></figure><p>2.开启flower后台监控</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">celery.exe flower --broker=amqp://guest:guest@localhost:5672/test</span><br><span class="line">celery.exe flower -broker=amqp://cic_admin:JYcxys@3030@192.168.1.152:5672/yct</span><br></pre></td></tr></table></figure><p><strong><em>rabbitmq的安装与配置</em></strong></p><p><em>Windows安装rabbitmq</em></p><p><strong><em>docker命令</em></strong></p><hr><ol><li><p>启动chrome镜像</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo docker run -d --name chrome_for_yzf -p 5902:5900 -p 4442:4444 selenium/standalone-chrome-debug</span><br></pre></td></tr></table></figure></li><li><p>下载镜像</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo docker pull selenium/standalone-chrome-debug</span><br></pre></td></tr></table></figure><p>说明：standalone-chrome-debug 镜像是带有vnc server </p></li><li><p>运行容器(–name后为容器的名称,-d 守护进程运行,-p 由容器露出的8080端口,映射到宿主机的8081端口)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run --name your_app_name -p 8081:8080 -d selenium/standalone-chrome-debug</span><br></pre></td></tr></table></figure></li></ol><ol start="4"><li><p>使用docker MySQL</p><ol><li><p>拉取mysql镜像 </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull daocloud.io/library/mysql</span><br></pre></td></tr></table></figure></li><li><p>运行MySQL容器 dockers(MYSQL_ROOT_PASSWORD=后为数据库定义密码用户名为root)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run --name mysql_service -e MYSQL_ROOT_PASSWORD=your_pwd -d daocloud.io/library/mysql</span><br></pre></td></tr></table></figure></li><li><p>使用其他的docker容器连接docker的MySQL服务</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run --name some_app --link your_mysql_name:mysql -p 8080:8080 -d daocloud.io/library/mysql</span><br></pre></td></tr></table></figure></li><li><p>将MySQL容器内的数据持久化到宿主机上</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run --name mysql --privileged=true -v /home/docker_mysql/data:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=cicjust_proxy -d daocloud.io/library/mysql</span><br></pre></td></tr></table></figure></li></ol></li></ol>]]></content>
      
      
      <categories>
          
          <category> Diary </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PS3 </tag>
            
            <tag> Games </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Test for Hexo</title>
      <link href="/2019/04/18/My_first_blog/"/>
      <url>/2019/04/18/My_first_blog/</url>
      
        <content type="html"><![CDATA[<p>Hexo Test.</p>]]></content>
      
      
      <categories>
          
          <category> Diary </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PS3 </tag>
            
            <tag> Games </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/2019/04/18/hello-world/"/>
      <url>/2019/04/18/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>ubuntu下快速安装python3</title>
      <link href="/2019/03/01/ubuntu%E4%B8%8Bpython3%E7%9A%84%E5%AE%89%E8%A3%85/"/>
      <url>/2019/03/01/ubuntu%E4%B8%8Bpython3%E7%9A%84%E5%AE%89%E8%A3%85/</url>
      
        <content type="html"><![CDATA[<p>###概述<br>ubuntu系统自带python2.7，不同的版本的ubuntu所带的python3的版本也有所不同，我现在使用的这台是python3.5;由于需要的服务只支持python3.6以上版本，所以本文以安装python3.7为例</p><p>服务器运行环境：<br>    ubuntu18.04<br>安装方式简介:</p><pre><code>不影响已有的python其他版本环境增量式安装完全隔离的沙箱环境</code></pre><h3 id="基本环境-便于后面的编译成功"><a href="#基本环境-便于后面的编译成功" class="headerlink" title="基本环境(便于后面的编译成功)"></a>基本环境(便于后面的编译成功)</h3><p>中间可能有多余空格，去除下再运行，一般都能安装成功，如果不能可以先更新下sudo apt-get update</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install zlib1g-dev libbz2-dev libssl-dev libncurses5-dev libsqlite3-dev </span><br><span class="line">libreadline-dev tk-dev libgdbm-dev libdb-dev libpcap-dev xz-utils libexpat1-dev </span><br><span class="line">liblzma-dev libffi-dev libc6-dev</span><br></pre></td></tr></table></figure><p>###下载</p><p>在python官网下载指定平台下的python3.7.1的环境</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://www.python.org/ftp/python/3.7.1/Python-3.7.1.tgz</span><br></pre></td></tr></table></figure><p>下载完成后，所在目录下会有 Python-3.7.1.tgz 的文件</p><h3 id="解压"><a href="#解压" class="headerlink" title="解压"></a>解压</h3><p>进行解压</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -xvzf Python-3.7.1.tgz</span><br></pre></td></tr></table></figure><p>所在目录下会有 Python-3.7.1 的文件夹</p><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><p>进入文件夹Python-3.7.1,进行配置</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd Python-3.7.1</span><br><span class="line">./configure --with-ssl --prefix=/usr/local/python3</span><br></pre></td></tr></table></figure><p>编译、安装</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">make</span><br><span class="line">make install</span><br></pre></td></tr></table></figure><blockquote><p>执行后可能会报错，请参考<a href="https://blog.csdn.net/jpch89/article/details/81813267" target="_blank" rel="noopener">https://blog.csdn.net/jpch89/article/details/81813267</a></p></blockquote><h3 id="删除软链"><a href="#删除软链" class="headerlink" title="删除软链"></a>删除软链</h3><p>先执行查看版本，如果有则证明软连接已经存在，先将其删除再重新建立</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># python3 -V</span><br><span class="line">Python 3.5.2</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># pip3 -V</span><br><span class="line">The program &apos;pip3&apos; is currently not installed. You can install it by typing:apt install python3-pip</span><br></pre></td></tr></table></figure><p>可见我的机器上的默认的python3的版本为3.5，pip3没有安装</p><p>删除软链</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># rm -rf /usr/bin/python3</span><br><span class="line"># rm -rf /usr/bin/pip3</span><br></pre></td></tr></table></figure><h3 id="建立新的指向python3-7的软链"><a href="#建立新的指向python3-7的软链" class="headerlink" title="建立新的指向python3.7的软链"></a>建立新的指向python3.7的软链</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#添加python3的软链接</span><br><span class="line">ln -s /usr/local/python3/bin/python3.7 /usr/bin/python3</span><br><span class="line">#添加 pip3 的软链接</span><br><span class="line">ln -s /usr/local/python3/bin/pip3.7 /usr/bin/pip3</span><br></pre></td></tr></table></figure><h3 id="查看版本"><a href="#查看版本" class="headerlink" title="查看版本"></a>查看版本</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># python3 -V</span><br><span class="line">Python 3.7.1</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># pip3 -V</span><br><span class="line">pip 10.0.1 from /usr/local/python3/lib/python3.7/site-packages/pip (python 3.7)</span><br></pre></td></tr></table></figure><p>至此安装成功。</p>]]></content>
      
      
      <categories>
          
          <category> Diary </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PS3 </tag>
            
            <tag> Games </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>小记--阿里云环境配置</title>
      <link href="/2019/03/01/%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E9%97%AE%E9%A2%98/"/>
      <url>/2019/03/01/%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<p>今天在阿里云上使用pip3安装虚拟环境的时候，出现了一个错误locale.Error: unsupported locale setting</p><p>不支持语言环境，报错如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">root@iZuf6eh47kp5ew16h2mywqZ:~# sudo pip3 install virtualenv</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File &quot;/usr/bin/pip3&quot;, line 11, in &lt;module&gt;</span><br><span class="line">    sys.exit(main())</span><br><span class="line">  File &quot;/usr/lib/python3/dist-packages/pip/__init__.py&quot;, line 215, in main</span><br><span class="line">    locale.setlocale(locale.LC_ALL, &apos;&apos;)</span><br><span class="line">  File &quot;/usr/lib/python3.5/locale.py&quot;, line 594, in setlocale</span><br><span class="line">    return _setlocale(category, locale)</span><br><span class="line">locale.Error: unsupported locale setting</span><br></pre></td></tr></table></figure><p>解决办法很简单，设置语言就好了</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">export LC_ALL=&quot;en_US.UTF-8&quot;</span><br><span class="line">export LC_CTYPE=&quot;en_US.UTF-8&quot;</span><br></pre></td></tr></table></figure><p>执行上面这l两句就OK了，后面就可以继续pip安装了。</p>]]></content>
      
      
      <categories>
          
          <category> Diary </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PS3 </tag>
            
            <tag> Games </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
